networks:
  default:
    external: true
    name: docker
services:
  service:
    image: portainer/portainer-ce
    labels:
      caddy: portainer.${default.domain_internal}
      caddy.import: internal
      caddy.reverse_proxy: "{{upstreams 9000}}"
    ports:
      - 8000:8000
      - 9000:9000
      - 9443:9443
    restart: unless-stopped
    volumes:
      - data:/data
volumes:
  data:
